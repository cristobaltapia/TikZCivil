%
\documentclass[11pt,letterpaper,oneside]{book}
\usepackage[left=3cm,right=2cm,top=1cm,bottom=1.5cm,includeheadfoot]{geometry}
\usepackage[english]{babel}
%\usepackage[latin1]{inputenc}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{subfig}
\usepackage{listings}
\usepackage{emp}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{verbatim}   % Comentarios multilinea
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{ifsym}
\usepackage{float}
\usepackage[font=small]{caption}
\setlength{\parindent}{1cm}
\usepackage{tikz}
%+++++++++++++++++++++++++++++++
% Se importa la libreria
%+++++++++++++++++++++++++++++++
\usepackage{../tikzcivil}

\begin{document}

\begin{titlepage}
  \title{Documentation for the use of the \emph{tikzcivil} package}
  \author{Cristóbal Tapia\\
    \texttt{crtapia@gmail.com}
  }
  \date{\today}
  \maketitle
\end{titlepage}

\tableofcontents

\lstdefinestyle{customasm}{
  belowcaptionskip=1\baselineskip,
  frame=single,
  xleftmargin=\parindent,
  language=teX,
  basicstyle=\small\ttfamily,
  commentstyle=\itshape\color{green!40!black},
  keywordstyle=\bfseries\color{blue},
  identifierstyle=\color{black},
  stringstyle=\color{purple},
  stepnumber=1,
  tabsize=2,
  breaklines=true,
}
\lstset{style=customasm, numbers=left, texcl=true}

\chapter{Drawing for the Structural Analysis}
\section{Dynamic}

\subsection{\texttt{\textbackslash MassWithSpring} command}
This command draws a typical mass-spring system. It supports also an optional damper and displacement. The basic behavior of this command is shown in fig. \ref{fig:MassWithSpring}. \\
\begin{figure}[!htp]
  \centering
  \begin{tikzpicture}[scale=1]
    \MassWithSpring[]
  \end{tikzpicture}
  \caption{Mass-Spring system}
  \label{fig:MassWithSpring}
\end{figure}

\begin{lstlisting}[firstnumber=1]
\begin{tikzpicture}[scale=1]
    \MassWithSpring[]
\end{tikzpicture}
\end{lstlisting}

More interesting behaviours can be achieved using the optional key values, as shown in fig .\\
\begin{figure}[!ht]
  \centering
  \begin{tikzpicture}[scale=1]
    \MassWithSpring[displacement = 2em, with damper = true]
    \MassWithSpring[displacement = -1em,  with wall = false, position = {10.5em,0em}]
    \MassWithSpring[displacement = 3em,  with wall = false, position = {18.0em,0em}]
  \end{tikzpicture}
  \caption{More complex mass-spring system}
  \label{fig:MassWithSpring2}
\end{figure}

\begin{lstlisting}[firstnumber=1]
\begin{tikzpicture}[scale=1]
    \MassWithSpring[displacement = 2em, with damper = true]
    \MassWithSpring[displacement = -1em,  with wall = false, position = {10.5em,0em}]
    \MassWithSpring[displacement = 3em,  with wall = false, position = {18.0em,0em}]
\end{tikzpicture}
\end{lstlisting}


\subsection{\texttt{\textbackslash Frame command}}
Thus command draws a frame with its mass concentrated above. It is a very common model to describe later a multi-story building in 2D. This command has many options, useful to change the displacement, position, use of supports, damper, among others. In the fig. \ref{fig:frame1} can be seen the normal output of the command without any options.\\
\begin{figure}[!ht]
  \centering
  \begin{tikzpicture}[scale=1.0]
    \Frame[]
  \end{tikzpicture}
  \caption{Using the \textbackslash Frame command with defaults options.}
  \label{fig:frame1}
\end{figure}

\begin{figure}[!ht]
  \centering
  \subfloat[  ]{%
    \begin{tikzpicture}[scale=0.6]
      \Frame[position = {0em,0em}]
      \Frame[position = {0em,10em}, with support = false]
      \Frame[position = {0em,20em}, with support = false]
    \end{tikzpicture}
  }
  \qquad
  \subfloat[  ]{%
    \begin{tikzpicture}[scale=0.6]
      \Frame[position = {0em,0em}, displacement = 0.15em]
      \Frame[position = {0.15em,10em}, with support = false, displacement = 1.35em]
      \Frame[position = {1.5em,20em}, with support = false, displacement = 3.4em]
    \end{tikzpicture}
  }

  \label{fig:rigi1}
\end{figure}

\begin{lstlisting}[firstnumber=1, title=Dibujo izquierdo]
\begin{tikzpicture}[scale=0.6]
  \Frame[position = {0em,0em}]
  \Frame[position = {0em,10em}, with support = false]
  \Frame[position = {0em,20em}, with support = false]
\end{tikzpicture}
\end{lstlisting}

\begin{lstlisting}[firstnumber=1, title=Dibujo derecho]
\begin{tikzpicture}[scale=0.6]
  \Frame[position = {0em,0em}, displacement = 0.15em]
  \Frame[position = {0.15em,10em}, with support = false,
         displacement = 1.35em]
  \Frame[position = {1.5em,20em}, with support = false,
         displacement = 3.4em]
\end{tikzpicture}
\end{lstlisting}


\chapter{Dibujos relacionados con la mecánica de suelos}

\begin{tikzpicture}[scale=1]
  \MassWithSpring[with damper=true, position={0em,0}, displacement=4em]
  \MassWithSpring[with damper=true, position={20em,0}, displacement=0em]
\end{tikzpicture}

\end{document}


